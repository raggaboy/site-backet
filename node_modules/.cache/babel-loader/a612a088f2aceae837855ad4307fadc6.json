{"ast":null,"code":"import { getPropertyByPath } from \"./utils.js\";\nexport var HIGHLIGHT_TAGS = {\n  highlightPreTag: \"<ais-highlight-0000000000>\",\n  highlightPostTag: \"</ais-highlight-0000000000>\"\n};\n/**\n * Parses an highlighted attribute into an array of objects with the string value, and\n * a boolean that indicated if this part is highlighted.\n *\n * @param {string} preTag - string used to identify the start of an highlighted value\n * @param {string} postTag - string used to identify the end of an highlighted value\n * @param {string} highlightedValue - highlighted attribute as returned by Algolia highlight feature\n * @return {object[]} - An array of {value: string, isHighlighted: boolean}.\n */\n\nfunction parseHighlightedAttribute(_ref) {\n  var preTag = _ref.preTag,\n      postTag = _ref.postTag,\n      _ref$highlightedValue = _ref.highlightedValue,\n      highlightedValue = _ref$highlightedValue === void 0 ? '' : _ref$highlightedValue;\n  var splitByPreTag = highlightedValue.split(preTag);\n  var firstValue = splitByPreTag.shift();\n  var elements = firstValue === '' ? [] : [{\n    value: firstValue,\n    isHighlighted: false\n  }];\n\n  if (postTag === preTag) {\n    var isHighlighted = true;\n    splitByPreTag.forEach(function (split) {\n      elements.push({\n        value: split,\n        isHighlighted: isHighlighted\n      });\n      isHighlighted = !isHighlighted;\n    });\n  } else {\n    splitByPreTag.forEach(function (split) {\n      var splitByPostTag = split.split(postTag);\n      elements.push({\n        value: splitByPostTag[0],\n        isHighlighted: true\n      });\n\n      if (splitByPostTag[1] !== '') {\n        elements.push({\n          value: splitByPostTag[1],\n          isHighlighted: false\n        });\n      }\n    });\n  }\n\n  return elements;\n}\n/**\n * Find an highlighted attribute given an `attribute` and an `highlightProperty`, parses it,\n * and provided an array of objects with the string value and a boolean if this\n * value is highlighted.\n *\n * In order to use this feature, highlight must be activated in the configuration of\n * the index. The `preTag` and `postTag` attributes are respectively highlightPreTag and\n * highlightPostTag in Algolia configuration.\n *\n * @param {string} preTag - string used to identify the start of an highlighted value\n * @param {string} postTag - string used to identify the end of an highlighted value\n * @param {string} highlightProperty - the property that contains the highlight structure in the results\n * @param {string} attribute - the highlighted attribute to look for\n * @param {object} hit - the actual hit returned by Algolia.\n * @return {object[]} - An array of {value: string, isHighlighted: boolean}.\n */\n\n\nexport function parseAlgoliaHit(_ref2) {\n  var _ref2$preTag = _ref2.preTag,\n      preTag = _ref2$preTag === void 0 ? '<em>' : _ref2$preTag,\n      _ref2$postTag = _ref2.postTag,\n      postTag = _ref2$postTag === void 0 ? '</em>' : _ref2$postTag,\n      highlightProperty = _ref2.highlightProperty,\n      attribute = _ref2.attribute,\n      hit = _ref2.hit;\n  if (!hit) throw new Error('`hit`, the matching record, must be provided');\n  var highlightObject = getPropertyByPath(hit[highlightProperty], attribute) || {};\n\n  if (Array.isArray(highlightObject)) {\n    return highlightObject.map(function (item) {\n      return parseHighlightedAttribute({\n        preTag: preTag,\n        postTag: postTag,\n        highlightedValue: item.value\n      });\n    });\n  }\n\n  return parseHighlightedAttribute({\n    preTag: preTag,\n    postTag: postTag,\n    highlightedValue: highlightObject.value\n  });\n}","map":{"version":3,"names":["getPropertyByPath","HIGHLIGHT_TAGS","highlightPreTag","highlightPostTag","parseHighlightedAttribute","_ref","preTag","postTag","_ref$highlightedValue","highlightedValue","splitByPreTag","split","firstValue","shift","elements","value","isHighlighted","forEach","push","splitByPostTag","parseAlgoliaHit","_ref2","_ref2$preTag","_ref2$postTag","highlightProperty","attribute","hit","Error","highlightObject","Array","isArray","map","item"],"sources":["/home/dedm/Documents/sript/lab3-script/node_modules/react-instantsearch-core/dist/es/core/highlight.js"],"sourcesContent":["import { getPropertyByPath } from \"./utils.js\";\nexport var HIGHLIGHT_TAGS = {\n  highlightPreTag: \"<ais-highlight-0000000000>\",\n  highlightPostTag: \"</ais-highlight-0000000000>\"\n};\n/**\n * Parses an highlighted attribute into an array of objects with the string value, and\n * a boolean that indicated if this part is highlighted.\n *\n * @param {string} preTag - string used to identify the start of an highlighted value\n * @param {string} postTag - string used to identify the end of an highlighted value\n * @param {string} highlightedValue - highlighted attribute as returned by Algolia highlight feature\n * @return {object[]} - An array of {value: string, isHighlighted: boolean}.\n */\n\nfunction parseHighlightedAttribute(_ref) {\n  var preTag = _ref.preTag,\n      postTag = _ref.postTag,\n      _ref$highlightedValue = _ref.highlightedValue,\n      highlightedValue = _ref$highlightedValue === void 0 ? '' : _ref$highlightedValue;\n  var splitByPreTag = highlightedValue.split(preTag);\n  var firstValue = splitByPreTag.shift();\n  var elements = firstValue === '' ? [] : [{\n    value: firstValue,\n    isHighlighted: false\n  }];\n\n  if (postTag === preTag) {\n    var isHighlighted = true;\n    splitByPreTag.forEach(function (split) {\n      elements.push({\n        value: split,\n        isHighlighted: isHighlighted\n      });\n      isHighlighted = !isHighlighted;\n    });\n  } else {\n    splitByPreTag.forEach(function (split) {\n      var splitByPostTag = split.split(postTag);\n      elements.push({\n        value: splitByPostTag[0],\n        isHighlighted: true\n      });\n\n      if (splitByPostTag[1] !== '') {\n        elements.push({\n          value: splitByPostTag[1],\n          isHighlighted: false\n        });\n      }\n    });\n  }\n\n  return elements;\n}\n/**\n * Find an highlighted attribute given an `attribute` and an `highlightProperty`, parses it,\n * and provided an array of objects with the string value and a boolean if this\n * value is highlighted.\n *\n * In order to use this feature, highlight must be activated in the configuration of\n * the index. The `preTag` and `postTag` attributes are respectively highlightPreTag and\n * highlightPostTag in Algolia configuration.\n *\n * @param {string} preTag - string used to identify the start of an highlighted value\n * @param {string} postTag - string used to identify the end of an highlighted value\n * @param {string} highlightProperty - the property that contains the highlight structure in the results\n * @param {string} attribute - the highlighted attribute to look for\n * @param {object} hit - the actual hit returned by Algolia.\n * @return {object[]} - An array of {value: string, isHighlighted: boolean}.\n */\n\n\nexport function parseAlgoliaHit(_ref2) {\n  var _ref2$preTag = _ref2.preTag,\n      preTag = _ref2$preTag === void 0 ? '<em>' : _ref2$preTag,\n      _ref2$postTag = _ref2.postTag,\n      postTag = _ref2$postTag === void 0 ? '</em>' : _ref2$postTag,\n      highlightProperty = _ref2.highlightProperty,\n      attribute = _ref2.attribute,\n      hit = _ref2.hit;\n  if (!hit) throw new Error('`hit`, the matching record, must be provided');\n  var highlightObject = getPropertyByPath(hit[highlightProperty], attribute) || {};\n\n  if (Array.isArray(highlightObject)) {\n    return highlightObject.map(function (item) {\n      return parseHighlightedAttribute({\n        preTag: preTag,\n        postTag: postTag,\n        highlightedValue: item.value\n      });\n    });\n  }\n\n  return parseHighlightedAttribute({\n    preTag: preTag,\n    postTag: postTag,\n    highlightedValue: highlightObject.value\n  });\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}