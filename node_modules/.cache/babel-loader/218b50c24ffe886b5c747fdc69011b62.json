{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nimport PropTypes from 'prop-types';\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport createConnector from \"../core/createConnector.js\";\nimport { cleanUpValue, getIndexId, refineValue, getCurrentRefinementValue, getResults } from \"../core/indexUtils.js\";\nimport { unescapeFacetValue } from \"../core/utils.js\";\nexport var getId = function getId(props) {\n  return props.attributes[0];\n};\nvar namespace = 'hierarchicalMenu';\n\nfunction getCurrentRefinement(props, searchState, context) {\n  var currentRefinement = getCurrentRefinementValue(props, searchState, context, \"\".concat(namespace, \".\").concat(getId(props)), null);\n\n  if (currentRefinement === '') {\n    return null;\n  }\n\n  return currentRefinement;\n}\n\nfunction getValue(value, props, searchState, context) {\n  var id = props.id,\n      attributes = props.attributes,\n      separator = props.separator,\n      rootPath = props.rootPath,\n      showParentLevel = props.showParentLevel;\n  var currentRefinement = getCurrentRefinement(props, searchState, context);\n  var nextRefinement;\n\n  if (currentRefinement === null) {\n    nextRefinement = value;\n  } else {\n    var tmpSearchParameters = new algoliasearchHelper.SearchParameters({\n      hierarchicalFacets: [{\n        name: id,\n        attributes: attributes,\n        separator: separator,\n        rootPath: rootPath,\n        showParentLevel: showParentLevel\n      }]\n    });\n    nextRefinement = tmpSearchParameters.toggleHierarchicalFacetRefinement(id, currentRefinement).toggleHierarchicalFacetRefinement(id, value).getHierarchicalRefinement(id)[0];\n  }\n\n  return nextRefinement;\n}\n\nfunction transformValue(value, props, searchState, context) {\n  return value.map(function (v) {\n    return {\n      label: v.name,\n      value: getValue(v.escapedValue, props, searchState, context),\n      count: v.count,\n      isRefined: v.isRefined,\n      items: v.data && transformValue(v.data, props, searchState, context)\n    };\n  });\n}\n\nvar truncate = function truncate() {\n  var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n  return items.slice(0, limit).map(function () {\n    var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return Array.isArray(item.items) ? _objectSpread(_objectSpread({}, item), {}, {\n      items: truncate(item.items, limit)\n    }) : item;\n  });\n};\n\nfunction _refine(props, searchState, nextRefinement, context) {\n  var id = getId(props);\n\n  var nextValue = _defineProperty({}, id, nextRefinement || '');\n\n  var resetPage = true;\n  return refineValue(searchState, nextValue, context, resetPage, namespace);\n}\n\nfunction _cleanUp(props, searchState, context) {\n  return cleanUpValue(searchState, context, \"\".concat(namespace, \".\").concat(getId(props)));\n}\n\nvar sortBy = ['name:asc'];\n/**\n * connectHierarchicalMenu connector provides the logic to build a widget that will\n * give the user the ability to explore a tree-like structure.\n * This is commonly used for multi-level categorization of products on e-commerce\n * websites. From a UX point of view, we suggest not displaying more than two levels deep.\n * @name connectHierarchicalMenu\n * @requirements To use this widget, your attributes must be formatted in a specific way.\n * If you want for example to have a hierarchical menu of categories, objects in your index\n * should be formatted this way:\n *\n * ```json\n * {\n *   \"categories.lvl0\": \"products\",\n *   \"categories.lvl1\": \"products > fruits\",\n *   \"categories.lvl2\": \"products > fruits > citrus\"\n * }\n * ```\n *\n * It's also possible to provide more than one path for each level:\n *\n * ```json\n * {\n *   \"categories.lvl0\": [\"products\", \"goods\"],\n *   \"categories.lvl1\": [\"products > fruits\", \"goods > to eat\"]\n * }\n * ```\n *\n * All attributes passed to the `attributes` prop must be present in \"attributes for faceting\"\n * on the Algolia dashboard or configured as `attributesForFaceting` via a set settings call to the Algolia API.\n *\n * @kind connector\n * @propType {array.<string>} attributes - List of attributes to use to generate the hierarchy of the menu. See the example for the convention to follow.\n * @propType {string} [defaultRefinement] - the item value selected by default\n * @propType {boolean} [showMore=false] - Flag to activate the show more button, for toggling the number of items between limit and showMoreLimit.\n * @propType {number} [limit=10] -  The maximum number of items displayed.\n * @propType {number} [showMoreLimit=20] -  The maximum number of items displayed when the user triggers the show more. Not considered if `showMore` is false.\n * @propType {string} [separator='>'] -  Specifies the level separator used in the data.\n * @propType {string} [rootPath=null] - The path to use if the first level is not the root level.\n * @propType {boolean} [showParentLevel=true] - Flag to set if the parent level should be displayed.\n * @propType {function} [transformItems] - Function to modify the items being displayed, e.g. for filtering or sorting them. Takes an items as parameter and expects it back in return.\n * @providedPropType {function} refine - a function to toggle a refinement\n * @providedPropType {function} createURL - a function to generate a URL for the corresponding search state\n * @providedPropType {string} currentRefinement - the refinement currently applied\n * @providedPropType {array.<{items: object, count: number, isRefined: boolean, label: string, value: string}>} items - the list of items the HierarchicalMenu can display. items has the same shape as parent items.\n */\n\nexport default createConnector({\n  displayName: 'AlgoliaHierarchicalMenu',\n  $$type: 'ais.hierarchicalMenu',\n  propTypes: {\n    attributes: function attributes(props, propName, componentName) {\n      var isNotString = function isNotString(val) {\n        return typeof val !== 'string';\n      };\n\n      if (!Array.isArray(props[propName]) || props[propName].some(isNotString) || props[propName].length < 1) {\n        return new Error(\"Invalid prop \".concat(propName, \" supplied to \").concat(componentName, \". Expected an Array of Strings\"));\n      }\n\n      return undefined;\n    },\n    separator: PropTypes.string,\n    rootPath: PropTypes.string,\n    showParentLevel: PropTypes.bool,\n    defaultRefinement: PropTypes.string,\n    showMore: PropTypes.bool,\n    limit: PropTypes.number,\n    showMoreLimit: PropTypes.number,\n    transformItems: PropTypes.func,\n    facetOrdering: PropTypes.bool\n  },\n  defaultProps: {\n    showMore: false,\n    limit: 10,\n    showMoreLimit: 20,\n    separator: ' > ',\n    rootPath: null,\n    showParentLevel: true,\n    facetOrdering: true\n  },\n  getProvidedProps: function getProvidedProps(props, searchState, searchResults) {\n    var showMore = props.showMore,\n        limit = props.limit,\n        showMoreLimit = props.showMoreLimit,\n        facetOrdering = props.facetOrdering;\n    var id = getId(props);\n    var results = getResults(searchResults, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n    var isFacetPresent = Boolean(results) && Boolean(results.getFacetByName(id));\n\n    if (!isFacetPresent) {\n      return {\n        items: [],\n        currentRefinement: getCurrentRefinement(props, searchState, {\n          ais: props.contextValue,\n          multiIndexContext: props.indexContextValue\n        }),\n        canRefine: false\n      };\n    }\n\n    var itemsLimit = showMore ? showMoreLimit : limit;\n    var value = results.getFacetValues(id, {\n      sortBy: sortBy,\n      facetOrdering: facetOrdering\n    });\n    var items = value.data ? transformValue(value.data, props, searchState, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    }) : [];\n    var transformedItems = props.transformItems ? props.transformItems(items) : items;\n    return {\n      items: truncate(transformedItems, itemsLimit),\n      currentRefinement: getCurrentRefinement(props, searchState, {\n        ais: props.contextValue,\n        multiIndexContext: props.indexContextValue\n      }),\n      canRefine: transformedItems.length > 0\n    };\n  },\n  refine: function refine(props, searchState, nextRefinement) {\n    return _refine(props, searchState, nextRefinement, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n  },\n  cleanUp: function cleanUp(props, searchState) {\n    return _cleanUp(props, searchState, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n  },\n  getSearchParameters: function getSearchParameters(searchParameters, props, searchState) {\n    var attributes = props.attributes,\n        separator = props.separator,\n        rootPath = props.rootPath,\n        showParentLevel = props.showParentLevel,\n        showMore = props.showMore,\n        limit = props.limit,\n        showMoreLimit = props.showMoreLimit,\n        contextValue = props.contextValue;\n    var id = getId(props);\n    var itemsLimit = showMore ? showMoreLimit : limit;\n    searchParameters = searchParameters.addHierarchicalFacet({\n      name: id,\n      attributes: attributes,\n      separator: separator,\n      rootPath: rootPath,\n      showParentLevel: showParentLevel\n    }).setQueryParameters({\n      maxValuesPerFacet: Math.max(searchParameters.maxValuesPerFacet || 0, itemsLimit)\n    });\n    var currentRefinement = getCurrentRefinement(props, searchState, {\n      ais: contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n\n    if (currentRefinement !== null) {\n      searchParameters = searchParameters.toggleHierarchicalFacetRefinement(id, currentRefinement);\n    }\n\n    return searchParameters;\n  },\n  getMetadata: function getMetadata(props, searchState) {\n    var rootAttribute = props.attributes[0];\n    var id = getId(props);\n    var currentRefinement = getCurrentRefinement(props, searchState, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n    var items = !currentRefinement ? [] : [{\n      label: \"\".concat(rootAttribute, \": \").concat(unescapeFacetValue(currentRefinement)),\n      attribute: rootAttribute,\n      value: function value(nextState) {\n        return _refine(props, nextState, '', {\n          ais: props.contextValue,\n          multiIndexContext: props.indexContextValue\n        });\n      },\n      currentRefinement: currentRefinement\n    }];\n    return {\n      id: id,\n      index: getIndexId({\n        ais: props.contextValue,\n        multiIndexContext: props.indexContextValue\n      }),\n      items: items\n    };\n  }\n});","map":{"version":3,"names":["_defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","PropTypes","algoliasearchHelper","createConnector","cleanUpValue","getIndexId","refineValue","getCurrentRefinementValue","getResults","unescapeFacetValue","getId","props","attributes","namespace","getCurrentRefinement","searchState","context","currentRefinement","concat","getValue","value","id","separator","rootPath","showParentLevel","nextRefinement","tmpSearchParameters","SearchParameters","hierarchicalFacets","name","toggleHierarchicalFacetRefinement","getHierarchicalRefinement","transformValue","map","v","label","escapedValue","count","isRefined","items","data","truncate","undefined","limit","slice","item","Array","isArray","_refine","nextValue","resetPage","_cleanUp","sortBy","displayName","$$type","propTypes","propName","componentName","isNotString","val","some","Error","string","bool","defaultRefinement","showMore","number","showMoreLimit","transformItems","func","facetOrdering","defaultProps","getProvidedProps","searchResults","results","ais","contextValue","multiIndexContext","indexContextValue","isFacetPresent","Boolean","getFacetByName","canRefine","itemsLimit","getFacetValues","transformedItems","refine","cleanUp","getSearchParameters","searchParameters","addHierarchicalFacet","setQueryParameters","maxValuesPerFacet","Math","max","getMetadata","rootAttribute","attribute","nextState","index"],"sources":["/home/dedm/Documents/sript/lab3-script/node_modules/react-instantsearch-core/dist/es/connectors/connectHierarchicalMenu.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport PropTypes from 'prop-types';\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport createConnector from \"../core/createConnector.js\";\nimport { cleanUpValue, getIndexId, refineValue, getCurrentRefinementValue, getResults } from \"../core/indexUtils.js\";\nimport { unescapeFacetValue } from \"../core/utils.js\";\nexport var getId = function getId(props) {\n  return props.attributes[0];\n};\nvar namespace = 'hierarchicalMenu';\n\nfunction getCurrentRefinement(props, searchState, context) {\n  var currentRefinement = getCurrentRefinementValue(props, searchState, context, \"\".concat(namespace, \".\").concat(getId(props)), null);\n\n  if (currentRefinement === '') {\n    return null;\n  }\n\n  return currentRefinement;\n}\n\nfunction getValue(value, props, searchState, context) {\n  var id = props.id,\n      attributes = props.attributes,\n      separator = props.separator,\n      rootPath = props.rootPath,\n      showParentLevel = props.showParentLevel;\n  var currentRefinement = getCurrentRefinement(props, searchState, context);\n  var nextRefinement;\n\n  if (currentRefinement === null) {\n    nextRefinement = value;\n  } else {\n    var tmpSearchParameters = new algoliasearchHelper.SearchParameters({\n      hierarchicalFacets: [{\n        name: id,\n        attributes: attributes,\n        separator: separator,\n        rootPath: rootPath,\n        showParentLevel: showParentLevel\n      }]\n    });\n    nextRefinement = tmpSearchParameters.toggleHierarchicalFacetRefinement(id, currentRefinement).toggleHierarchicalFacetRefinement(id, value).getHierarchicalRefinement(id)[0];\n  }\n\n  return nextRefinement;\n}\n\nfunction transformValue(value, props, searchState, context) {\n  return value.map(function (v) {\n    return {\n      label: v.name,\n      value: getValue(v.escapedValue, props, searchState, context),\n      count: v.count,\n      isRefined: v.isRefined,\n      items: v.data && transformValue(v.data, props, searchState, context)\n    };\n  });\n}\n\nvar truncate = function truncate() {\n  var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n  return items.slice(0, limit).map(function () {\n    var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return Array.isArray(item.items) ? _objectSpread(_objectSpread({}, item), {}, {\n      items: truncate(item.items, limit)\n    }) : item;\n  });\n};\n\nfunction _refine(props, searchState, nextRefinement, context) {\n  var id = getId(props);\n\n  var nextValue = _defineProperty({}, id, nextRefinement || '');\n\n  var resetPage = true;\n  return refineValue(searchState, nextValue, context, resetPage, namespace);\n}\n\nfunction _cleanUp(props, searchState, context) {\n  return cleanUpValue(searchState, context, \"\".concat(namespace, \".\").concat(getId(props)));\n}\n\nvar sortBy = ['name:asc'];\n/**\n * connectHierarchicalMenu connector provides the logic to build a widget that will\n * give the user the ability to explore a tree-like structure.\n * This is commonly used for multi-level categorization of products on e-commerce\n * websites. From a UX point of view, we suggest not displaying more than two levels deep.\n * @name connectHierarchicalMenu\n * @requirements To use this widget, your attributes must be formatted in a specific way.\n * If you want for example to have a hierarchical menu of categories, objects in your index\n * should be formatted this way:\n *\n * ```json\n * {\n *   \"categories.lvl0\": \"products\",\n *   \"categories.lvl1\": \"products > fruits\",\n *   \"categories.lvl2\": \"products > fruits > citrus\"\n * }\n * ```\n *\n * It's also possible to provide more than one path for each level:\n *\n * ```json\n * {\n *   \"categories.lvl0\": [\"products\", \"goods\"],\n *   \"categories.lvl1\": [\"products > fruits\", \"goods > to eat\"]\n * }\n * ```\n *\n * All attributes passed to the `attributes` prop must be present in \"attributes for faceting\"\n * on the Algolia dashboard or configured as `attributesForFaceting` via a set settings call to the Algolia API.\n *\n * @kind connector\n * @propType {array.<string>} attributes - List of attributes to use to generate the hierarchy of the menu. See the example for the convention to follow.\n * @propType {string} [defaultRefinement] - the item value selected by default\n * @propType {boolean} [showMore=false] - Flag to activate the show more button, for toggling the number of items between limit and showMoreLimit.\n * @propType {number} [limit=10] -  The maximum number of items displayed.\n * @propType {number} [showMoreLimit=20] -  The maximum number of items displayed when the user triggers the show more. Not considered if `showMore` is false.\n * @propType {string} [separator='>'] -  Specifies the level separator used in the data.\n * @propType {string} [rootPath=null] - The path to use if the first level is not the root level.\n * @propType {boolean} [showParentLevel=true] - Flag to set if the parent level should be displayed.\n * @propType {function} [transformItems] - Function to modify the items being displayed, e.g. for filtering or sorting them. Takes an items as parameter and expects it back in return.\n * @providedPropType {function} refine - a function to toggle a refinement\n * @providedPropType {function} createURL - a function to generate a URL for the corresponding search state\n * @providedPropType {string} currentRefinement - the refinement currently applied\n * @providedPropType {array.<{items: object, count: number, isRefined: boolean, label: string, value: string}>} items - the list of items the HierarchicalMenu can display. items has the same shape as parent items.\n */\n\nexport default createConnector({\n  displayName: 'AlgoliaHierarchicalMenu',\n  $$type: 'ais.hierarchicalMenu',\n  propTypes: {\n    attributes: function attributes(props, propName, componentName) {\n      var isNotString = function isNotString(val) {\n        return typeof val !== 'string';\n      };\n\n      if (!Array.isArray(props[propName]) || props[propName].some(isNotString) || props[propName].length < 1) {\n        return new Error(\"Invalid prop \".concat(propName, \" supplied to \").concat(componentName, \". Expected an Array of Strings\"));\n      }\n\n      return undefined;\n    },\n    separator: PropTypes.string,\n    rootPath: PropTypes.string,\n    showParentLevel: PropTypes.bool,\n    defaultRefinement: PropTypes.string,\n    showMore: PropTypes.bool,\n    limit: PropTypes.number,\n    showMoreLimit: PropTypes.number,\n    transformItems: PropTypes.func,\n    facetOrdering: PropTypes.bool\n  },\n  defaultProps: {\n    showMore: false,\n    limit: 10,\n    showMoreLimit: 20,\n    separator: ' > ',\n    rootPath: null,\n    showParentLevel: true,\n    facetOrdering: true\n  },\n  getProvidedProps: function getProvidedProps(props, searchState, searchResults) {\n    var showMore = props.showMore,\n        limit = props.limit,\n        showMoreLimit = props.showMoreLimit,\n        facetOrdering = props.facetOrdering;\n    var id = getId(props);\n    var results = getResults(searchResults, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n    var isFacetPresent = Boolean(results) && Boolean(results.getFacetByName(id));\n\n    if (!isFacetPresent) {\n      return {\n        items: [],\n        currentRefinement: getCurrentRefinement(props, searchState, {\n          ais: props.contextValue,\n          multiIndexContext: props.indexContextValue\n        }),\n        canRefine: false\n      };\n    }\n\n    var itemsLimit = showMore ? showMoreLimit : limit;\n    var value = results.getFacetValues(id, {\n      sortBy: sortBy,\n      facetOrdering: facetOrdering\n    });\n    var items = value.data ? transformValue(value.data, props, searchState, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    }) : [];\n    var transformedItems = props.transformItems ? props.transformItems(items) : items;\n    return {\n      items: truncate(transformedItems, itemsLimit),\n      currentRefinement: getCurrentRefinement(props, searchState, {\n        ais: props.contextValue,\n        multiIndexContext: props.indexContextValue\n      }),\n      canRefine: transformedItems.length > 0\n    };\n  },\n  refine: function refine(props, searchState, nextRefinement) {\n    return _refine(props, searchState, nextRefinement, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n  },\n  cleanUp: function cleanUp(props, searchState) {\n    return _cleanUp(props, searchState, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n  },\n  getSearchParameters: function getSearchParameters(searchParameters, props, searchState) {\n    var attributes = props.attributes,\n        separator = props.separator,\n        rootPath = props.rootPath,\n        showParentLevel = props.showParentLevel,\n        showMore = props.showMore,\n        limit = props.limit,\n        showMoreLimit = props.showMoreLimit,\n        contextValue = props.contextValue;\n    var id = getId(props);\n    var itemsLimit = showMore ? showMoreLimit : limit;\n    searchParameters = searchParameters.addHierarchicalFacet({\n      name: id,\n      attributes: attributes,\n      separator: separator,\n      rootPath: rootPath,\n      showParentLevel: showParentLevel\n    }).setQueryParameters({\n      maxValuesPerFacet: Math.max(searchParameters.maxValuesPerFacet || 0, itemsLimit)\n    });\n    var currentRefinement = getCurrentRefinement(props, searchState, {\n      ais: contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n\n    if (currentRefinement !== null) {\n      searchParameters = searchParameters.toggleHierarchicalFacetRefinement(id, currentRefinement);\n    }\n\n    return searchParameters;\n  },\n  getMetadata: function getMetadata(props, searchState) {\n    var rootAttribute = props.attributes[0];\n    var id = getId(props);\n    var currentRefinement = getCurrentRefinement(props, searchState, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n    var items = !currentRefinement ? [] : [{\n      label: \"\".concat(rootAttribute, \": \").concat(unescapeFacetValue(currentRefinement)),\n      attribute: rootAttribute,\n      value: function value(nextState) {\n        return _refine(props, nextState, '', {\n          ais: props.contextValue,\n          multiIndexContext: props.indexContextValue\n        });\n      },\n      currentRefinement: currentRefinement\n    }];\n    return {\n      id: id,\n      index: getIndexId({\n        ais: props.contextValue,\n        multiIndexContext: props.indexContextValue\n      }),\n      items: items\n    };\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}