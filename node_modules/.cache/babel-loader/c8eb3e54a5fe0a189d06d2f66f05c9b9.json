{"ast":null,"code":"var _jsxFileName = \"/home/dedm/Documents/sript/lab3-script/src/widgets/Ratings.js\";\nimport React from 'react';\nimport { connectRange } from 'react-instantsearch-dom';\nimport cx from 'classnames';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Ratings = _ref => {\n  let {\n    currentRefinement,\n    refine,\n    createURL,\n    count\n  } = _ref;\n  const ratings = new Array(4).fill(null).map((_, ratingIndex) => {\n    const value = 4 - ratingIndex;\n    const itemsCount = count.filter(countObj => value <= parseInt(countObj.value, 10)).map(countObj => countObj.count).reduce((sum, currentCount) => sum + currentCount, 0);\n    return {\n      value,\n      count: itemsCount\n    };\n  });\n  const stars = new Array(5).fill(null);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ais-RatingMenu\",\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"ais-RatingMenu-list\",\n      children: ratings.map((rating, ratingIndex) => {\n        const isRatingSelected = ratings.every(currentRating => currentRating.value !== currentRefinement.min) || rating.value === currentRefinement.min;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: cx('ais-RatingMenu-item', {\n            'ais-RatingMenu-item--selected': isRatingSelected,\n            'ais-RatingMenu-item--disabled': rating.count === 0\n          }),\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"ais-RatingMenu-link\",\n            \"aria-label\": `${rating.value} & up`,\n            href: createURL(rating.value),\n            onClick: event => {\n              event.preventDefault();\n\n              if (currentRefinement.min === rating.value) {\n                refine({\n                  min: 0\n                });\n              } else {\n                refine({\n                  min: rating.value\n                });\n              }\n            },\n            children: [stars.map((_, starIndex) => {\n              const starNumber = starIndex + 1;\n              const isStarFull = starNumber < 5 - ratingIndex;\n              return /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: cx('ais-RatingMenu-starIcon', {\n                  'ais-RatingMenu-starIcon--full': isStarFull,\n                  'ais-RatingMenu-starIcon--empty': !isStarFull\n                }),\n                \"aria-hidden\": \"true\",\n                viewBox: \"0 0 16 16\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  fillRule: \"evenodd\",\n                  d: \"M10.472 5.008L16 5.816l-4 3.896.944 5.504L8 12.616l-4.944 2.6L4 9.712 0 5.816l5.528-.808L8 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 23\n                }, this)\n              }, starIndex, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 21\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ais-RatingMenu-count\",\n              children: rating.count\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 15\n          }, this)\n        }, rating.value, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Ratings;\nexport default _c2 = connectRange(Ratings);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Ratings\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","connectRange","cx","Ratings","currentRefinement","refine","createURL","count","ratings","Array","fill","map","_","ratingIndex","value","itemsCount","filter","countObj","parseInt","reduce","sum","currentCount","stars","rating","isRatingSelected","every","currentRating","min","event","preventDefault","starIndex","starNumber","isStarFull"],"sources":["/home/dedm/Documents/sript/lab3-script/src/widgets/Ratings.js"],"sourcesContent":["import React from 'react';\r\nimport { connectRange } from 'react-instantsearch-dom';\r\nimport cx from 'classnames';\r\n\r\nconst Ratings = ({ currentRefinement, refine, createURL, count }) => {\r\n  const ratings = new Array(4).fill(null).map((_, ratingIndex) => {\r\n    const value = 4 - ratingIndex;\r\n\r\n    const itemsCount = count\r\n      .filter((countObj) => value <= parseInt(countObj.value, 10))\r\n      .map((countObj) => countObj.count)\r\n      .reduce((sum, currentCount) => sum + currentCount, 0);\r\n\r\n    return {\r\n      value,\r\n      count: itemsCount,\r\n    };\r\n  });\r\n  const stars = new Array(5).fill(null);\r\n\r\n  return (\r\n    <div className=\"ais-RatingMenu\">\r\n      <ul className=\"ais-RatingMenu-list\">\r\n        {ratings.map((rating, ratingIndex) => {\r\n          const isRatingSelected =\r\n            ratings.every(\r\n              (currentRating) => currentRating.value !== currentRefinement.min\r\n            ) || rating.value === currentRefinement.min;\r\n\r\n          return (\r\n            <li\r\n              className={cx('ais-RatingMenu-item', {\r\n                'ais-RatingMenu-item--selected': isRatingSelected,\r\n                'ais-RatingMenu-item--disabled': rating.count === 0,\r\n              })}\r\n              key={rating.value}\r\n            >\r\n              <a\r\n                className=\"ais-RatingMenu-link\"\r\n                aria-label={`${rating.value} & up`}\r\n                href={createURL(rating.value)}\r\n                onClick={(event) => {\r\n                  event.preventDefault();\r\n\r\n                  if (currentRefinement.min === rating.value) {\r\n                    refine({ min: 0 });\r\n                  } else {\r\n                    refine({ min: rating.value });\r\n                  }\r\n                }}\r\n              >\r\n                {stars.map((_, starIndex) => {\r\n                  const starNumber = starIndex + 1;\r\n                  const isStarFull = starNumber < 5 - ratingIndex;\r\n\r\n                  return (\r\n                    <svg\r\n                      key={starIndex}\r\n                      className={cx('ais-RatingMenu-starIcon', {\r\n                        'ais-RatingMenu-starIcon--full': isStarFull,\r\n                        'ais-RatingMenu-starIcon--empty': !isStarFull,\r\n                      })}\r\n                      aria-hidden=\"true\"\r\n                      viewBox=\"0 0 16 16\"\r\n                    >\r\n                      <path\r\n                        fillRule=\"evenodd\"\r\n                        d=\"M10.472 5.008L16 5.816l-4 3.896.944 5.504L8 12.616l-4.944 2.6L4 9.712 0 5.816l5.528-.808L8 0z\"\r\n                      />\r\n                    </svg>\r\n                  );\r\n                })}\r\n\r\n                <span className=\"ais-RatingMenu-count\">{rating.count}</span>\r\n              </a>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connectRange(Ratings);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}