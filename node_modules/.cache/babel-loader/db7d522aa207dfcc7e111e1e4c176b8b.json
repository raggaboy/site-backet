{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"page\"];\nimport isEqual from 'react-fast-compare';\n\nfunction getStateWithoutPage(state) {\n  var _ref = state || {},\n      page = _ref.page,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  return rest;\n}\n\nvar KEY = 'ais.infiniteHits';\n\nfunction hasSessionStorage() {\n  return typeof window !== 'undefined' && typeof window.sessionStorage !== 'undefined';\n}\n\nexport default function createInfiniteHitsSessionStorageCache() {\n  return {\n    read: function read(_ref2) {\n      var state = _ref2.state;\n\n      if (!hasSessionStorage()) {\n        return null;\n      }\n\n      try {\n        var cache = JSON.parse(window.sessionStorage.getItem(KEY));\n        return cache && isEqual(cache.state, getStateWithoutPage(state)) ? cache.hits : null;\n      } catch (error) {\n        if (error instanceof SyntaxError) {\n          try {\n            window.sessionStorage.removeItem(KEY);\n          } catch (err) {// do nothing\n          }\n        }\n\n        return null;\n      }\n    },\n    write: function write(_ref3) {\n      var state = _ref3.state,\n          hits = _ref3.hits;\n\n      if (!hasSessionStorage()) {\n        return;\n      }\n\n      try {\n        window.sessionStorage.setItem(KEY, JSON.stringify({\n          state: getStateWithoutPage(state),\n          hits: hits\n        }));\n      } catch (error) {// do nothing\n      }\n    }\n  };\n}","map":{"version":3,"names":["_objectWithoutProperties","_excluded","isEqual","getStateWithoutPage","state","_ref","page","rest","KEY","hasSessionStorage","window","sessionStorage","createInfiniteHitsSessionStorageCache","read","_ref2","cache","JSON","parse","getItem","hits","error","SyntaxError","removeItem","err","write","_ref3","setItem","stringify"],"sources":["/home/dedm/Documents/sript/lab3-script/node_modules/react-instantsearch-dom/dist/es/lib/infiniteHitsCache/sessionStorage.js"],"sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"page\"];\nimport isEqual from 'react-fast-compare';\n\nfunction getStateWithoutPage(state) {\n  var _ref = state || {},\n      page = _ref.page,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  return rest;\n}\n\nvar KEY = 'ais.infiniteHits';\n\nfunction hasSessionStorage() {\n  return typeof window !== 'undefined' && typeof window.sessionStorage !== 'undefined';\n}\n\nexport default function createInfiniteHitsSessionStorageCache() {\n  return {\n    read: function read(_ref2) {\n      var state = _ref2.state;\n\n      if (!hasSessionStorage()) {\n        return null;\n      }\n\n      try {\n        var cache = JSON.parse(window.sessionStorage.getItem(KEY));\n        return cache && isEqual(cache.state, getStateWithoutPage(state)) ? cache.hits : null;\n      } catch (error) {\n        if (error instanceof SyntaxError) {\n          try {\n            window.sessionStorage.removeItem(KEY);\n          } catch (err) {// do nothing\n          }\n        }\n\n        return null;\n      }\n    },\n    write: function write(_ref3) {\n      var state = _ref3.state,\n          hits = _ref3.hits;\n\n      if (!hasSessionStorage()) {\n        return;\n      }\n\n      try {\n        window.sessionStorage.setItem(KEY, JSON.stringify({\n          state: getStateWithoutPage(state),\n          hits: hits\n        }));\n      } catch (error) {// do nothing\n      }\n    }\n  };\n}"],"mappings":"AAAA,OAAOA,wBAAP,MAAqC,oDAArC;AACA,IAAIC,SAAS,GAAG,CAAC,MAAD,CAAhB;AACA,OAAOC,OAAP,MAAoB,oBAApB;;AAEA,SAASC,mBAAT,CAA6BC,KAA7B,EAAoC;EAClC,IAAIC,IAAI,GAAGD,KAAK,IAAI,EAApB;EAAA,IACIE,IAAI,GAAGD,IAAI,CAACC,IADhB;EAAA,IAEIC,IAAI,GAAGP,wBAAwB,CAACK,IAAD,EAAOJ,SAAP,CAFnC;;EAIA,OAAOM,IAAP;AACD;;AAED,IAAIC,GAAG,GAAG,kBAAV;;AAEA,SAASC,iBAAT,GAA6B;EAC3B,OAAO,OAAOC,MAAP,KAAkB,WAAlB,IAAiC,OAAOA,MAAM,CAACC,cAAd,KAAiC,WAAzE;AACD;;AAED,eAAe,SAASC,qCAAT,GAAiD;EAC9D,OAAO;IACLC,IAAI,EAAE,SAASA,IAAT,CAAcC,KAAd,EAAqB;MACzB,IAAIV,KAAK,GAAGU,KAAK,CAACV,KAAlB;;MAEA,IAAI,CAACK,iBAAiB,EAAtB,EAA0B;QACxB,OAAO,IAAP;MACD;;MAED,IAAI;QACF,IAAIM,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWP,MAAM,CAACC,cAAP,CAAsBO,OAAtB,CAA8BV,GAA9B,CAAX,CAAZ;QACA,OAAOO,KAAK,IAAIb,OAAO,CAACa,KAAK,CAACX,KAAP,EAAcD,mBAAmB,CAACC,KAAD,CAAjC,CAAhB,GAA4DW,KAAK,CAACI,IAAlE,GAAyE,IAAhF;MACD,CAHD,CAGE,OAAOC,KAAP,EAAc;QACd,IAAIA,KAAK,YAAYC,WAArB,EAAkC;UAChC,IAAI;YACFX,MAAM,CAACC,cAAP,CAAsBW,UAAtB,CAAiCd,GAAjC;UACD,CAFD,CAEE,OAAOe,GAAP,EAAY,CAAC;UACd;QACF;;QAED,OAAO,IAAP;MACD;IACF,CArBI;IAsBLC,KAAK,EAAE,SAASA,KAAT,CAAeC,KAAf,EAAsB;MAC3B,IAAIrB,KAAK,GAAGqB,KAAK,CAACrB,KAAlB;MAAA,IACIe,IAAI,GAAGM,KAAK,CAACN,IADjB;;MAGA,IAAI,CAACV,iBAAiB,EAAtB,EAA0B;QACxB;MACD;;MAED,IAAI;QACFC,MAAM,CAACC,cAAP,CAAsBe,OAAtB,CAA8BlB,GAA9B,EAAmCQ,IAAI,CAACW,SAAL,CAAe;UAChDvB,KAAK,EAAED,mBAAmB,CAACC,KAAD,CADsB;UAEhDe,IAAI,EAAEA;QAF0C,CAAf,CAAnC;MAID,CALD,CAKE,OAAOC,KAAP,EAAc,CAAC;MAChB;IACF;EArCI,CAAP;AAuCD"},"metadata":{},"sourceType":"module"}